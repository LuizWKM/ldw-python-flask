{% extends 'base.html' %}

{% block content %}
<div class="text-center mb-4">
  <h2 class="mistery-title">ðŸ”® Enigmas Misteriosos</h2>
  <hr class="divider">
  <p class="text-light">Cadastre novos enigmas com tÃ­tulo, desafio e resposta...</p>
</div>

<!-- Card do formulÃ¡rio -->
<div class="card shadow-lg mb-5 border-warning">
  <div class="card-header bg-dark text-warning fw-bold">Adicionar Enigma</div>
  <div class="card-body">
    <form method="POST">
      <input type="text" name="titulo" placeholder="TÃ­tulo do enigma..." class="form-control mb-3">
      <input type="text" name="pergunta" placeholder="Digite o enigma..." class="form-control mb-3">
      <input type="text" name="resposta" placeholder="Digite a resposta..." class="form-control mb-3">
      <button class="btn btn-warning w-100">Cadastrar</button>
    </form>
  </div>
</div>

{% if enigmas %}
  <div class="row">
    {% for e in enigmas %}
      <div class="col-md-6">
        <div class="card enigma-card mb-4 shadow">
          <div class="card-body">
            <!-- Agora mostra o tÃ­tulo que o usuÃ¡rio digitou -->
            <h5 class="card-title text-info">âœ¨ {{ e.titulo }}</h5>
            <p class="card-text"><strong>Pergunta:</strong> {{ e.pergunta }}</p>

            <!-- BotÃ£o para mostrar/ocultar resposta -->
            <button class="btn btn-outline-info btn-sm mt-2" type="button" 
                    data-bs-toggle="collapse" data-bs-target="#resposta{{ loop.index }}">
              Revelar Resposta
            </button>

            <!-- Resposta escondida -->
            <div class="collapse mt-3" id="resposta{{ loop.index }}">
              <div class="card card-body bg-dark text-light border-info">
                <strong>Resposta:</strong> {{ e.resposta }}
              </div>
            </div>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <p class="no-enigma text-center">âš  Nenhum enigma cadastrado ainda...</p>

{% endif %}
{% endblock %}
